import{r as b,o as p,A as u,c as d,b as s,a as i,S as g,H as h,F as c,d as _,i as y,g as n,t,f as r}from"./main-DDqyMd2B.js";const v={class:"page-wrapper",id:"main-wrapper","data-layout":"vertical","data-navbarbg":"skin6","data-sidebartype":"full","data-sidebar-position":"fixed","data-header-position":"fixed"},f={class:"body-wrapper"},w={class:"body-wrapper-inner"},k={class:"container-fluid"},M={class:"col-lg-12 d-flex align-items-stretch"},x={class:"card w-100"},C={class:"card-body p-4"},N={class:"table-responsive","data-simplebar":""},S={class:"table text-nowrap align-middle table-custom mb-0"},V={class:"ps-0"},j={class:"d-flex align-items-center gap-6"},E={class:"mb-0"},A={class:"truncate"},B={class:"truncate"},F=["onClick"],L={id:"primary-header-modal",class:"modal fade",tabindex:"-1","aria-labelledby":"primary-header-modalLabel","aria-hidden":"true"},D={class:"modal-dialog modal-dialog-scrollable modal-lg"},H={class:"modal-content"},J={key:0,class:"modal-body"},q={__name:"ContactMessage",setup(O){const o=b([]);p(()=>{m()});const m=async()=>{try{const a=await u.getContactMessages();o.value=JSON.parse(JSON.stringify(a.data)),o.value.status===400&&console.error("Error loading messages:",o.value.message)}catch(a){console.error("Error loading messages:",a)}};return(a,e)=>(r(),d(c,null,[s("div",v,[i(g),s("div",f,[i(h),s("div",w,[s("div",k,[s("div",M,[s("div",x,[s("div",C,[e[1]||(e[1]=s("h5",{class:"card-title fw-semibold mb-4"},"Contact Message",-1)),s("div",N,[s("table",S,[e[0]||(e[0]=s("thead",null,[s("tr",null,[s("th",{scope:"col",class:"text-dark fw-normal ps-0"},"Name"),s("th",{scope:"col",class:"text-dark fw-normal"},"Email"),s("th",{scope:"col",class:"text-dark fw-normal"},"Mobile"),s("th",{scope:"col",class:"text-dark fw-normal"},"Subject"),s("th",{scope:"col",class:"text-dark fw-normal"},"Message"),s("th",{scope:"col",class:"text-dark fw-normal"},"Actions")])],-1)),s("tbody",null,[(r(!0),d(c,null,_(o.value,l=>(r(),d("tr",{key:l.id},[s("td",V,[s("div",j,[s("div",null,[s("h6",E,t(l.name),1)])])]),s("td",null,[s("span",null,t(l.mail_id),1)]),s("td",null,[s("span",null,t(l.mobile),1)]),s("td",null,[s("span",A,t(l.subject.substring(0,30))+"...",1)]),s("td",null,[s("span",B,t(l.message.substring(0,30))+"...",1)]),s("td",null,[s("button",{type:"button",class:"btn btn-light m-1","data-bs-toggle":"modal","data-bs-target":"#primary-header-modal",onClick:T=>a.selectedMessage=l},"View Message",8,F)])]))),128))])])])])])])])])])]),s("div",L,[s("div",D,[s("div",H,[e[5]||(e[5]=s("div",{class:"modal-header modal-colored-header bg-primary text-white"},[s("h4",{class:"modal-title text-white",id:"primary-header-modalLabel"}," Customer Message Details "),s("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),a.selectedMessage?(r(),d("div",J,[s("p",null,[e[2]||(e[2]=s("strong",{style:{color:"black"}},"From:",-1)),n(" "+t(a.selectedMessage.name)+" ("+t(a.selectedMessage.mail_id)+")",1)]),s("p",null,[e[3]||(e[3]=s("strong",{style:{color:"black"}},"Subject:",-1)),n(" "+t(a.selectedMessage.subject),1)]),s("p",null,[e[4]||(e[4]=s("strong",{style:{color:"black"}},"Message:",-1)),n(" "+t(a.selectedMessage.message),1)])])):y("",!0),e[6]||(e[6]=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," Close ")],-1))])])])],64))}};export{q as default};
